<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="icon" href="favicon.ico">

    <title>Embedded systems for ML</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/pb.css">
    <link rel="stylesheet" href="pres-style.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
      
        <!-- -------------------- Microcontrollers and boards ---------------------------------------- -->
        
        <section id="microcontrollerBoard">
          <h3>Microcontrollers and boards</h3>
        </section>
        
        <section id="microcontrollerBoardReminders">
          <h4>Reminder - Computer architecture</h4>
          <img src="images/computerArchitecture.png">
        </section>
        
        <section>
          <ul>
            <li>Main memory: RAM (see further)</li>
            <li>Secondary memory:
              <ul>
                <li>hard drive</li>
                <li>SSD (Flash)</li>
              </ul>
            </li>
            <li>I/O interfaces: for keyboard(s), mouse/mice, monitor(s), printer(s), network(s), etc.</li>
            <li>When multiple CPUs: more complicated</li>
          </ul>
          <div class="pbverysmall">
            RAM: Random Access Memory<br>
            SSD: Solid State Drive
          </div>
        </section>
        
        <section>
          <h4>Example - IBM z16 A01</h4>
          <img src="images/ibmZA01.png" height="400">
          <ul>
            <li>4 cabinets, each measuring approximately 48 x 185 cm</li>
            <li>Maximum memory: 40 TB</li>
          </ul>
          <div class="pbverysmall">
            CPC: Central Processor Complex
          </div>
          <div class="pbverysmall">Source: 
            <a href="https://www.redbooks.ibm.com/redbooks/pdfs/sg248950.pdf"
               title="IBM" target="_blank">IBM</a>
          </div>
        </section>
        
        <section>
          <h4>Example - Desktop PC</h4>
          <img src="images/pcArchitecture.jpg" height="400">
          <div class="pbverysmall">
            Source: PB
          </div>
        </section>
        
        <section>
          <h4>Example - BeagleBone Black SBC</h4>
          <img src="images/beagleBoneBlack.webp">
          <div class="pbverysmall">
            SBC: Single Board Computer
          </div>
          <div class="pbverysmall">Source: 
            <a href="https://www.beagleboard.org/boards/beaglebone-black"
               title="beagleboard.org" target="_blank">beagleboard.org</a>
          </div>
        </section>
        
        <section>
          <ul>
            <li>The BeagleBone Black can be used as a general purpose computer</li>
            <li>It can also be used as an embedded system</li>
            <li class="fragment">&rArr;The definition in the previous section should not be taken strictly</li>
          </ul>
          <p class="fragment">Many different SBCs exist.</p>
        </section>
        
        <section>
          <h4>Continuing with integration</h4>
          <ul>
            <li>What about an Integrated Circuit (IC) containing one (or more) CPU(s), some memory, 
                and I/O interfaces?</li>
            <li class="fragment">This is a <em>microcontroller</em> (MCU - MicroController Unit)</li>
          </ul>
        </section>
        
        <section>
          <h4>Microcontroller architecture</h4>
          <img src="images/mcuArchitecture.png">
          <ul>
            <li>Some microcontrollers may have one or more caches</li>
            <li>No more primary/secondary memory but RAM/Flash (see further) instead</li>
          </ul>
        </section>
        
        <section>
          <h4>Microprocessor vs microcontroller</h4>
          <ul>
            <li>A <em>microprocessor</em> (MPU - MicroProcessor Unit) contains one 
                (or more) CPU(s) and some I/O interfaces</li>
            <li>Most computers are based on microprocessors.</li>
          </ul>
        </section>
        
        <section>
          <h4>Reminder - Memory content retention</h4>
          <ul>
            <li>RAM is volatile memory: content is lost when the system is turned off</li>
            <li>Flash is non-volatile memory</li>
            <li>You may find other acronyms: ROM, PROM, EPROM, EEPROM, FRAM, MRAM, etc.</li>
          </ul>
          <div class="pbverysmall">
            RAM: Random Access Memory - ROM: Read-Only Memory - PROM: Programmable ROM
            - EPROM: Erasable Programmable ROM - EEPROM: Electrically Erasable ROM
            - FRAM: Ferroelectric RAM - Magnetoresistive RAM
          </div>
        </section>
        
        <section>
          <p>Important: flash memory can only accept a limited number of writes.</p>
          <ul class="fragment">
            <li>Depending on memory type: between 10,000 and 1 million writes</li>
            <li>Wear-leveling algorithms: spread out write operations</li>
          </ul>
        </section>
        
        <section>
          <h4>Microcontroller architecture - more details</h4>
          <img src="images/mcuArchitectureMoreDetails.png">
        </section>
        
        <section>
          <ul>
            <li>I/O interfaces: different types (see further)</li>
            <li>Peripherals may be included (see further)</li>
            <li>Energy management: on low power consumption microcontrollers</li>
          </ul>
        </section>
        
        <section>
          <h4>Embedded system</h4>
          <ul>
            <li>Printed Circuit Board (PCB)</li>
            <li>A microcontroller</li>
            <li>Additional elements (see next diagram)</li>
            <li>Case</li>
          </ul>
          <p>The name <em>device</em> is also used.</p>
        </section>
                
        <section id="boardArchitecture">
          <h4>Board architecture</h4>
          <img src="images/deviceArchitecture.png">
        </section>
        
        <section>
          <div class="row">
            <div class="column">
              <img src="images/deviceArchitecture.png">
            </div>
            <div class="column">
              <div class="r-stack">
                <div class="fragment fade-in-then-out">
                  <p>Energy management:</p>
                  <ul>
                    <li>Voltage regulator</li>
                    <li>Protection against voltage inversion</li>
                    <li>Battery management system</li>
                    <li>Etc.</li>
                  </ul>
                </div>
                <div class="fragment fade-in-then-out">
                  <p>Wireless interface:</p>
                  <ul>
                    <li>May be provided by the MCU</li>
                  </ul>
                </div>
                <div class="fragment fade-in-then-out">
                  <p>Data storage:</p>
                  <ul>
                    <li>To store large amounts of data</li>
                  </ul>
                </div>
                <div class="fragment fade-in-then-out">
                  <p>Firmware storage:</p>
                  <ul>
                    <li>To implement Over-The-Air (OTA) update</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>
        
        <section>
          <h4>Example - EFR32BG24 Dev Kit</h4>
          <img src="images/efr32bg24-dev-kit.png">
        </section>
        
        <section id="importantCharacteristics">
          <h4>Important board/microcontroller characteristics?</h4>
          <ul>
            <li>Depend on the target application!</li>
            <li>Example of characteristics to consider:
              <ul>
                <li>Extensions and/or libraries for ML support</li>
                <li>Serial interfaces</li>
                <li>Digital interfaces</li>
                <li>Analog interfaces</li>
                <li>Integrated wireless communication</li>
                <li>Instruction cycle time</li>
                <li>Memory (size, type, expandable or not)</li>
                <li>Registers size (8/16/32 bits)</li>
                <li>Packaging</li>
                <li>etc.</li>
              </ul>
            </li>
          </ul>
        </section>
        
        <section>
          <h4>Other important characteristics: hardware tools</h4>
          <ul>
            <li>Development board</li>
            <li>Programmer, debugger</li>
            <li>Open source hardware</li>
          </ul>
        </section>
        
        <section>
          <h4>Other important characteristics: software tools</h4>
          <ul>
            <li>Cross-compilation toolchain</li>
            <li>Integrated Development Environment (IDE)</li>
            <li>Open source software</li>
          </ul>
        </section>
        
        <section>
          <h4>Other important characteristics: support</h4>
          <ul>
            <li>Professional support</li>
            <li>Active community (forums, examples...)</li>
          </ul>
        </section>
        
        <section id="someUcFamilies">
          <h4>Some common microcontroller families</h4>
        </section>
        
        <section>
          <h4>Arm</h4>
          <ul>
            <li>UK company created in 1990</li>
            <li><b>There isn't any Arm microcontroller</b></li>
            <li>Arm provides Intellectual Property (IP) blocks, under a licensing agreement</li>
            <li>Among these blocks: RISC microcontrollers cores</li>
            <li>Low power, low cost: Cortex-M family</li>
          </ul>
          <div class="pbverysmall">RISC: Reduced Instruction Set Computer</div>
        </section>
        
        <section>
          <p class="pbcenter">325 billions of Arm-based chips shipped.</p>
          <div class="pbverysmall">Source: 
          <a href="https://www.arm.com/company"
             title="Arm" target="_blank">Arm</a></div>
        </section> 
        
        <section>
          <p class="pbcenter">Some Cortex-M licensees:</p>
          <ul>
            <li><a href="https://www.infineon.com/cms/en/product/microcontroller/"
                   target="_blank">Infineon</a></li>
            <li><a href="https://www.microchip.com/en-us/products/microcontrollers/32-bit-mcus/pic32-sam"
                   target="_blank">Microchip</a></li>
            <li><a href="https://www.nordicsemi.com/Products"
                   target="_blank">Nordic Semiconductor</a></li>
            <li><a href="https://www.nxp.com/products/processors-and-microcontrollers/arm-microcontrollers:ARM-MICROCONTROLLERS"
                   target="_blank">NXP Semiconductors</a></li>
            <li><a href="https://www.renesas.com/eu/en/products/microcontrollers-microprocessors/ra-cortex-m-mcus"
                   target="_blank">Renesas</a></li>
            <li><a href="https://www.silabs.com/"
                   target="_blank">Silicon Labs</a></li>
            <li><a href="https://www.st.com/en/microcontrollers-microprocessors/stm32-32-bit-arm-cortex-mcus.html"
                   target="_blank">STMicroelectronics</a></li>
            <li><a href="https://www.ti.com/product-category/microcontrollers-processors/mcus/overview.html"
                   target="_blank">Texas Instruments</a></li>
            <li>etc.</li>
          </ul>
        </section>
        
        <section>
          <h4>Cortex-M</h4>
          <img src="images/armCortexMFeatures.png" height="500">
          <div class="pbverysmall">Source: <a
                                             href="https://developer.arm.com/compare-ip/#cortex-m-cpu-performance---scalar"
                                             title="Arm" target="_blank">Arm</a></div>
        </section>
        
        <section>
          <h4>Facilities for ML applications on Cortex-M</h4>
          <ul>
            <li>Software library: <a href="https://arm-software.github.io/CMSIS-NN/latest/" target="_blank"">
            CMSIS-NN</a> - open-source library maximizing NN performance</li>
            <li>Hardware extension: <a href="https://www.arm.com/technologies/floating-point" target="_blank"">
            FPU</a></li>
            <li>Hardware extension: <a href="https://www.arm.com/technologies/dsp" target="_blank">
            DSP</a></li>
            <li>Hardware extension: <a href="https://www.arm.com/technologies/helium" target="_blank">
            Helium</a> - vector extension</li>
            <li>Hardware extension: <a href="https://www.arm.com/products/silicon-ip-cpu/ethos/ethos-u55" target="_blank">
            Ethos-U55</a> - NPU</li>
          </ul>
          <div class="pbverysmall">
            CMSIS-NN: Common Microcontroller Software Interface Standard - Neural Network<br>
            FPU: Floating-Point Unit<br>
            DSP: Digital Signal Processing<br>
            NPU: Neural Processing Unit
          </div>
        </section>
        
        <section>
          <h4>Example: STMicroelectronics - STM32 family</h4>
        </section>
        
        <section>
          <img src="images/STM32Series.png" height="600">
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/microcontrollers-microprocessors/stm32-32-bit-arm-cortex-mcus.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <h4>STM32L073RZ</h4>
        </section>
        
        <section>
          <img src="images/stm32l073xz_192k-medium.jpg">
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/microcontrollers-microprocessors/stm32l073rz.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <img src="images/stm32l073rz.png" height="600">
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/microcontrollers-microprocessors/stm32l073rz.html#documentation"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <ul>
            <li>Price: US$6.95 (unit) - US$2.66 (10,000)</li>
          </ul>
        </section>
        
        <section>
          <h5>Development board</h5>
          <img src="images/nucleo-l073rg.png">
          <p class="pbcenter">Price: US$16</p>
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/evaluation-tools/nucleo-l073rz.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <h4>STM32WL55</h4>
        </section>
        
        <section>
          <img src="images/stm32wlOverview.jpeg">
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/microcontrollers-microprocessors/stm32wl5x.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        <section>
          <img src="images/stm32wl55Architecture.png" height="600">
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/en/microcontrollers-microprocessors/stm32wl55cc.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <ul>
            <li>Price: US$7.75 (unit) - US$4.54 (10,000)</li>
          </ul>
        </section>
        
        <section>
          <h5>Development board</h5>
          <img src="images/nucleowl55jc.jpg" height="400">
          <p class="pbcenter">US$53</p>
          <div class="pbverysmall">Source: <a
                                             href="https://www.st.com/content/st_com/en/products/evaluation-tools/product-evaluation-tools/mcu-mpu-eval-tools/stm32-mcu-mpu-eval-tools/stm32-nucleo-boards/nucleo-wl55jc.html"
                                             title="STMicroelectronics" target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <h4><a href="https://www.st.com/en/microcontrollers-microprocessors/stm32n6-series.html" target="_href">STM32N6 series</a></h4>
        </section>
        
        <section>
          <img src="images/stm32n6x7Architecture.jpg" height="600">
          <div class="pbverysmall">Source: 
          <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32n657x0.html"
             title="STMicroelectronics" 
             target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <h5>Development board</h5>
          <img src="images/stm32n6x7DevelopmentBoard.webp">
          <p class="pbcenter">US$78</p>
          <div class="pbverysmall">Source: 
            <a
              href="https://www.st.com/en/evaluation-tools/nucleo-n657x0-q.html"
              title="STMicroelectronics"
              target="_blank">STMicroelectronics</a></div>
        </section>
        
        <section>
          <h4>Example: Silicon Labs - EFR32 family</h4>
        </section>

        <section>
          <img src="images/siliconLabsWirelessProducts.png">
          <div class="pbverysmall">Source: 
            <a
              href="https://www.silabs.com/products"
              title="Silicon Labs Wireless SoCs"
              target="_blank">Silicon Labs Wireless SoCs</a></div>
        </section>
        
        <section>
          <ul>
            <li>Bluetooth: EFR32BG21, EFR32BG22, EFR32BG24, EFR32BG26, EFR32BG27</li>
            <li>Wi-Fi: SiWx915, SiWx917, RS9116, WF200</li>
            <li>Thread: EFR32MG12, EFR32MG13, EFR32MG21, EFR32MG24</li>
            <li>Etc.</li>
          </ul>
        </section>
        
        <section>
          <h4>EFR32MG24</h4>
        </section>
        
        <section>
          <img src="images/efr32mg24-functional-diagram.png">
          <div class="pbverysmall">Source: 
            <a
              href="https://www.silabs.com/documents/public/data-sheets/efr32mg24-datasheet.pdf"
              title="EFR32MG24 Datasheet"
              target="_blank">EFR32MG24 Datasheet</a></div>
        </section>
        
        <section>
          <p>Matrix Vector Processor (MVP) - hardware accelerator for (complex) vector and matrix operations.</p>
          <p>The <a href="https://docs.silabs.com/gecko-platform/latest/platform-compute-math/" target="_blank">
          MVP Math Library</a> provides the associated API.</p>
          <div class="pbverysmall">
          API: Application Programming Interface
          </div>
        </section>
        
        <section>
          <ul>
            <li>Price: around US$7 (unit)</li>
          </ul>
        </section>
        
        <section>
          <h5>Development board</h5>
          <img src="images/efr32xg24-dev-kit.png" height="400">
          <p class="pbcenter">US$79</p>
          <div class="pbverysmall">Source: 
            <a
              href="https://www.silabs.com/documents/public/user-guides/ug524-brd2601b-user-guide.pdf"
              title="xG24 Dev Kit User's Guide" 
              target="_blank">xG24 Dev Kit User's Guide</a></div>
        </section>
        
        <section>
          <h4>Espressif - ESP family</h4>
          <img src="images/Espressif_Standard_Logo_CN_Horizontal.png" width="160"">
        </section>
        
        <section>
          <h4>Espressif family</h4>
          <ul class="pbsmaller">
            <li>ESP32-P Series - high-power RISC-V dual-core + low-power single-core</li>
            <li>ESP32-S Series - Xtensa LX7 dual-cor or single-core - Wi-Fi, BLE</li>
            <li>ESP32-C Series - RISC-V dual-core or single-core - Wi-Fi (2.4 GHz / 5 GHz), BLE, IEEE 802.15.4</li>
            <li>ESP32-H Series - RISC-V single-core</li>
            <li>ESP32 Series - Xtensa LX6 dual-core or single-core - Wi-Fi, Bluetooth, BLE</li>
          </ul>
          <div class="pbverysmall">
          BLE: Bluetooth Low Energy
          </div>
          <div  class="pbverysmall">
          IEEE 802.15.4: physical layer and MAC layer for Zigbee, 6LowPAN, Thread, Matter, etc.
          </div>
          <div class="pbverysmall">Source: <a
                                             href="https://www.espressif.com/en/products/socs"
                                             title="Espressif" target="_blank">Espressif</a>
          </div>
        </section>

        <section>
          <h4>A note about RISC-V</h4>
          <p>RISC-V is an open, royalty-free instruction set architecture (ISA).</p>
          <p>The <a href="https://riscv.org/" target="_blank">RISC-V International Association</a> drives the development of RISC-V.</p>
        </section>
                
        <section>
          <h4>ESP32-C6FH4</h4>
          <img src="images/esp32c6-functionalBlockDiagram.png" height="550">
          <div class="pbverysmall">Source: 
               <a href="https://www.espressif.com/sites/default/files/documentation/esp32-c6_datasheet_en.pdf"
                  title="ESP32-C6 Datasheet" target="_blank">ESP32-C6 Datasheet</a>
          </div>
        </section>
        
        <section>
          <h4>Some of the features</h4>
          <ul>
            <li>High-power RISC-V processor - clock up to 160 MHz</li>
            <li>Low-power RISC-V processor - clock up to 20 MHz</li>
            <li>L1 cache: 32 KB</li>
            <li>ROM: 320 KB</li>
            <li>Hig-power SRAM: 512 KB</li>
            <li>Low-power SRAM: 16 KB</li>
            <li>Flash: 4 MB</li>
          </ul>
        </section>
        
        <section>
          <ul>
            <li>Price: US$2.05</li>
          </ul>
        </section>
        
        <section>
          <h5>Development board</h5>
          <img src="images/esp32c6-devkitm-1-isometric.png" height="300">
          <div class="pbverysmall">Source: 
               <a href="https://docs.espressif.com/projects/esp-dev-kits/en/latest/esp32c6/esp32-c6-devkitm-1/user_guide.html"
                  title="ESP32-C6-DevKitM-1" target="_blank">ESP32-C6-DevKitM-1</a></div>
        </section>

        <section>
          <ul>
            <li>Price: US$7.96</li>
          </ul>
        </section>
        
        <section>
          <h4>For ML</h4>
          <p>ESP32-S3: vector instructions - ESP-DSP and ESP-NN libraries</p>
          <p>ESP32-P4: instruction extensions (vector, complex, etc.)</p>
        </section>

      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
      hash: true,
      slideNumber: 'c/t',
      // Scroll view inhibited until arrow keys can be used.
      //view: 'scroll',
      //scrollProgress: true,
      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
