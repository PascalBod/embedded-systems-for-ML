<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="icon" href="favicon.ico">

    <title>Embedded systems for ML</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/pb.css">
    <link rel="stylesheet" href="pres-style.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
      
        <!-- -------------------- Software development - introduction ---------------------------------------- -->
        
        <section id="softwareDevelopment1">
          <h3>Software development - introduction</h3>
        </section>
        
        <section id="crossDevelopment">
          <h4>Cross development</h4>
          <img src="images/crossDevEfr32xg24.png">
          <div class="pbverysmall">Icons made by 
            <a href="https://www.flaticon.com/authors/freepik"
               title="Freepik" target="_blank">Freepik</a> from 
            <a href="https://www.flaticon.com/"
               title="Flaticon" target="_blank">www.flaticon.com</a></div>
        </section>
        
        <section>
          <h4>Reminders</h4>
        </section>

        <section>
          <h4>Usual development</h4>
          <div class="r-stack">
            <div class="fragment fade-out" data-fragment-index="0">
              <img src="images/build1.png" height="400">
            </div>
            <div class="fragment fade-in-then-out" data-fragment-index="0">
              <img src="images/build2.png" height="400">
            </div>
            <div class="fragment fade-in-then-out">
              <img src="images/build3.png" height="400">
            </div>
            <div class="fragment fade-in-then-out">
              <img src="images/build4.png" height="400">
            </div>
            <div class="fragment">
              <img src="images/build4-2.png" height="400">
            </div>
          </div>
        </section>
        
        <section>
          <p class="pbcenter">Compiler + linker (+ other utilities): <b>toolchain</b></p>
        </section>
        
        <section>
          <h4>Cross development for microcontroller board</h4>
          <div class="r-stack">
            <div class="fragment fade-out" data-fragment-index="0">
              <img src="images/build5.png" height="400">
            </div>
            <div class="fragment fade-in-then-out" data-fragment-index="0">
              <img src="images/transferExecutable.png">
            </div>
          </div>
        </section>
        
        <section>
          <p>Transferring the executable file to the microcontroller board can be done in several ways:</p>
          <ul>
            <li>Over a debug interface</li>
            <li>Over a serial link while the microcontroller runs a <em>bootloader</em></li>
            <li>Over a wireless connection while the microcontroller runs a <em>bootloader</em></li>
            <li>Etc.</li>
          </ul>
          <p>The operation: <em>flashing</em>.</p>
          <p>The executable file: <em>firmware</em>.</p>
        </section>
        
        <section>
          <h4>Debugging</h4>
          <ul>
            <li>The development PC can control the execution of the application running in the microcontroller</li>
            <li>Requires a debug interface on the microcontroller board and a serial link</li>
          </ul>
          <p>As seen in the previous page: the debug interface can be used to flash the microcontroller.</p>
        </section>
        
        <section>
          <ul>
            <li>Every microcontroller manufacturer: full development environnement</li>
            <li>Often free</li>
            <li>Often based on Open Source software (Eclipse, gcc, openOCD, etc.)</li>
          </ul>
        </section>
        
        <!-- -------------------- Practice session 01 - step 1: Hello World ---------------------------------------- -->
        
        <section id="practice01Step1">
          <h3>Practice session 01</h3>
          <p>Build and run an <em>Hello World</em> application for the EFR32xG24 Dev Kit</p>
        </section>
        
        <section>
          <h4>EFR32MG24</h4>
          <img src="images/efr32mg24-functional-diagram.png">
          <div class="pbverysmall">Source: 
            <a
              href="https://www.silabs.com/documents/public/data-sheets/efr32mg24-datasheet.pdf"
              title="EFR32MG24 Datasheet"
              target="_blank">EFR32MG24 Datasheet</a></div>
        </section>
        
        <section>
          <h4>xG24 Dev Kit</h4>
          <img src="images/efr32xg24-dev-kit-annotated-photo.png" height="400">
          <div class="pbverysmall">Source: 
            <a
              href="https://www.silabs.com/documents/public/user-guides/ug524-brd2601b-user-guide.pdf"
              title="xG24 Dev Kit User's Guide" 
              target="_blank">xG24 Dev Kit User's Guide</a></div>
        </section>
        
        <section>
          <h4>Reference documentation</h4>
          <ul>
            <li>Microcontroller:
              <ul>
                <li><a href="https://www.silabs.com/documents/public/data-sheets/efr32mg24-datasheet.pdf"
                       target="_blank">
                  EF32MG24 Wireless SoC Family Data Sheet (132 pages)</a></li>
                <li><a href="https://www.silabs.com/documents/public/reference-manuals/efr32xg24-rm.pdf"
                       target="_blank">
                  EFR32xG24 Wireless SoC Reference Manual (1152 pages)</a></li>
              </ul>
            </li>
            <li>Board:
              <ul>
                <li><a href="https://www.silabs.com/documents/public/user-guides/ug524-brd2601b-user-guide.pdf"
                       target="_blank">
                  xG24 Dev Kit User's Guide</a></li>
                <li><a href="https://www.silabs.com/documents/public/schematic-files/BRD2601B-A01-schematic.pdf"
                       target="_blank">
                  Schematic - Revision A01</a></li>
              </ul>
            </li>
            <li>Sofware:
              <ul>
                <li><a href="https://docs.silabs.com/" target="_blank">Developer Documentation</a>:
                  <ul>
                    <li><a href="https://docs.silabs.com/simplicity-studio-5-users-guide/latest/ss-5-users-guide-overview/"
                           target="_blank"">Simplicity Studio 5 User's Guide</a></li>
                    <li><a href="https://docs.silabs.com/gecko-platform/5.1.2/platform-overview/"
                           target="_blank">Platform (SDK)</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </section>
        
        <section>
          <h4>Development environments</h4>
          <p>Several possibilities:</p>
          <ul>
            <li>Simplicity Studio v5 (SSv5) - based upon Eclipse IDE</li>
            <li>VS Code + extension</li>
            <li>...</li>
          </ul>
          <p class="fragment">We will use SSv5.</p>
        </section>
        
        <section>
          <h4>SSv5</h4>
          <div class="r-stack">
            <div class="fragment fade-out" data-fragment-index="0">
              <img src="images/efr32DevEnvironmentWithoutCallouts.png">
            </div>
            <div class="fragment fade-in-then-out" data-fragment-index="0">
              <img src="images/efr32DevEnvironmentCallouts1.png">
            </div>
          </div>
        </section>
        
        <section>
          <h4>Practice session 01 - step 1</h4>
          <ul>
            <li>Using <em>git</em>, clone the <a href="https://github.com/PascalBod/RTOS-presentation"
                                          target="_blank">
              <code>RTOS-presentation</code> GitHub repository</a></li>
            <li>Follow the instructions provided by the 
                <a href="https://github.com/PascalBod/embedded-systems-for-ML/blob/main/practice-sessions/01-HelloWorld-step1/README.md"
                   target="_blank"><code>embedded-systems-for-ML/practice-sessions/01-HelloWorld-step1/README.md</code></a>
                file.</li>
          </ul>
        </section>
        
        <!-- -------------------- Software development - introduction > debugging ------------------------- -->
        
        <section id="debugging">
          <h4>Debugging</h4>
          <p><em>Debugging:</em> process of finding the root cause of a bug.</p>
          <p class="fragment">Always try to reduce time devoted to debugging. How to do this is not part
             of this course, even if it contains some related information.</p>
        </section>
        
        <section>
          <h4>Generic architecture</h4>
          <img src="images/debuggingArchitecture.png">
        </section>
        
        <section>
          <ul>
            <li>Microcontroller controlled by the debug probe</li>
            <li class="fragment">JTAG: an industry standard, initially developped for verifying printed circuit boards (PCB)</li>
            <li class="fragment">SWD: an Arm standard, fully debug oriented</li>
            <li class="fragment">Debug probe controlled by the debugger server</li>
            <li class="fragment">Debugger client used to send commands: run, pause, step, set breakpoint, etc.</li>
          </ul>
        </section>
        
        <section>
          <p>For most of the dev boards, a simple probe is part of the board:</p>
          <img src="images/onBoardDebugger.png">
        </section>
        
        <!-- -------------------- Practice session 01 - step 2: breakpoint ---------------------------------------- -->
        
        <section id="practice01Step2">
          <h4>Practice session 01 - step 2</h4>
          <ul>
            <li>Follow the instructions provided by the 
                <a href="https://github.com/PascalBod/embedded-systems-for-ML/blob/main/practice-sessions/01-HelloWorld-step2/README.md"
                   target="_blank"><code>embedded-systems-for-ML/practice-sessions/01-HelloWorld-step2/README.md</code></a>
                file.</li>          
            </ul>
        </section>

      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
      hash: true,
      slideNumber: 'c/t',
      // Scroll view inhibited until arrow keys can be used.
      //view: 'scroll',
      //scrollProgress: true,
      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
      });
    </script>
  </body>
</html>
